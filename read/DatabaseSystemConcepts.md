# 数据库系统概论笔记
主要记录一些小的、新的知识点，便于回顾。

## 第3、4、5章

1. 理解一条查询的方法：先from，在where，最后select

2. 自然连接
    - 自然连接 == 内连接 == 笛卡尔积
    - 自然连接中使用 using

3. 如果元组在所有属性中取值相同，那么它们就被当作相同元组，即使某些值为空。

4. 聚合函数
    - 没有group by时认为所有的元组为一个分组
    - 使用group by时将元组分为不同的分组
    - 聚合函数作用于分组上
    - 使用 __having__ 过滤分组
    - 聚合函数默认忽略空值

5. 带有'group by'和'having'的操作步骤
    1. form算出一个关系
    2. where过滤
    3. group by 分组，having过滤
    4. select选择需要的字段

6. some && all

7. exist: 检测一个子查询的结果中是否存在元组

8. where子句与from子句的子查询
    - where上的子查询可以使用外层查询的相关的名称（这称为 __相关子查询__ ）。
    - from上的子查询则不能使用外层的查询的相关名称。(有个*lateral* 关键字不过许多数据库都未支持)

9. __with__：用于定义临时关系，十分有用。

10. 标量子查询：sql允许子查询出现在返回单个值的表达式能够出现的任何地方，只要该子查询只返回包含 __单个属性__ 的 __单个元组__ 。可出现在select、where、having中。

11. 外连接与内连接的区别：外连接保留未匹配的元组
    - 外连接的操作过程：首先进行内连接，对于内连接左侧中任意一个与右侧元组都不匹配的元组t，向连接结果中加入一个元组r，r的结构如下：元组r从左侧获取t的值；r的其他属性被赋为空值。
