# aws simple storage service

## basic

### 存储桶

__存储桶是 Amazon S3 中用于存储对象的容器。每个数据元都储存在一个存储桶中。__ 例如，如果名为 `photos/puppy.jpg` 的对象存储在美国西部（俄勒冈）区域的 `awsexamplebucket1` 存储桶中，则可使用 URL `https://awsexamplebucket1.s3.us-west-2.amazonaws.com/photos/puppy.jpg` 对该对象进行寻址。

存储桶可用于多种用途：

- 它们在最高级别组织 Amazon S3 命名空间。
- 它们标识负责存储和数据传输费用的账户。
- 它们在访问控制中发挥作用。
- 它们用作使用情况报告的聚合单元。

### 对象

__数据元是 Amazon S3 中存储的基础实体。对象由`对象数据`和`元数据`组成。__ 数据部分对 Amazon S3 是不透明的。`元数据是一组描述对象的名称-值对`。其中包括一些默认元数据（如上次修改日期）和标准 HTTP 元数据（如 Content-Type）。您还可以在存储对象时指定自定义元数据。

### 键

__键是指存储桶中对象的唯一标识符。存储桶内的每个对象都只能有一个键。存储桶、键和版本 ID 的组合唯一标识各个对象。__ 因此，您可以将 Amazon S3 看作“存储桶 + 键 + 版本”与对象本身之间的基本数据映射。将 Web 服务终端节点、存储段名、密钥和版本（可选）组合在一起，可唯一地寻址 Amazon S3 中的每个数据元。例如，在 URL https://doc.s3.amazonaws.com/2006-03-01/AmazonS3.wsdl 中，“doc”是存储桶的名称，“2006-03-01/AmazonS3.wsdl”是键。


### 区域

__您可以选择一个 AWS 区域供 Amazon S3 存储您创建的存储桶__。您可以选择一个区域，以便优化延迟、尽可能降低成本或满足法规要求。在某一区域存储的数据元将一直留在该区域，除非您特意将其传输到另一区域。例如，在欧洲（爱尔兰）区域存储的对象将一直留在欧洲。

### Amazon S3 数据一致性模型

`单个键的更新是原子更新。`例如，如果您从一个线程对现有密钥执行 PUT 操作，并同时从另一个线程对同一密钥执行 GET 操作，则您将获得旧数据或新数据，但绝不会获得部分或损坏的数据。

> Amazon S3 不支持对并发写入器进行对象锁定。如果同时对同一键发出两个 PUT 请求，则以带有最新时间戳的请求为准。如果这会导致问题，您需要在应用程序中创建对象锁定机制。

>更新是基于键的。无法跨键值实现原子更新。例如，无法根据一个键值的更新对另一个键值进行更新，除非将此功能设计到应用程序中。


## 使用

[github boto3](https://github.com/boto/boto3)

[boto3 document](https://boto3.amazonaws.com/v1/documentation/api/latest/index.html)
