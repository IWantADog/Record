# the art of unix programming

## unix哲学

*KISS -- keep it simple, stupid*

- 模块原则：使用简洁的借口拼接简单的部件
  - 降低整体复杂度，将问题限制在某个局部，不用牵一而发动全身。
- 清晰原则：清晰胜于机巧
- 组合原则：设计时考虑拼接组合
- 分离原则：策略同机制分离，借口同引擎分离
- 简洁原则：设计要简洁，复杂度能低则低
- 吝啬原则：除非别无它法，不要编写庞大的程序
- 透明性原则：设计要可见，以便审查和调试
- 健壮原则：健壮源与透明和简洁
- **表示原则：将知识叠入数据以求逻辑质朴和健壮**
  - 相较于算法的复杂度，数据结构的复杂度更容易驾驭。所以在设计中应该主动将代码的复杂度转移到数据中
- 通俗原则：接口设计避免标新立异
- 缄默原则：如果一个程序没什么好说的，就沉默
- 补救原则：出现异常时，马上退出并给出足够错误信息
- **经济原则：宁花机器一分，不花程序员一秒**
- 生成原则：避免手工hack，尽量编写程序去生成程序
- **优化原则：雕琢前先要有原型，跑之前先学会走**
  - 先求运行，再求正确，最后求快
- 多样性原则：绝不相信所谓“不二法门”的断言
- **扩展原则：设计着眼未来，未来总比预想来得快**

### 一些摘录的言论
- **编程的核心是数据结构，而不是算法**
- 你无法估量程序会在什么地方耗费运算时间。瓶颈经常出现在想不到的地方。所以别急于胡乱找个地方改代码，除非你已经证实那儿就是瓶颈所在
- 估量。在你没对代码进行估量，特别是没找到最耗时的那部分之前，别去优化速度
- 花哨的算法比简单的算法更容易出bug，更难实现。**尽量使用简单的算法配合简单的数据结构***

## 模块化

- 模块的紧凑与正交性
  - 单一模块应该仅用于解决一个问题
- 重构的原则性目标就是**提高正交性**
- SPOT -- single point of truth
  - don't repeat yourself
  - 完全相同的代码不要有两份
- **完美之道，不在无可增加，而在无可删减**
- 实践原则
  - 模块的代码长度，200-400。感觉可以200为界
  - 模块暴露的api数量，7个以上就需要仔细考虑一下了
  - 每个api的功能是否清晰

