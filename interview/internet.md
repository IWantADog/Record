# internet

## HTTP
- get
  - 幂等
- post
  - 创建一个新资源
- put
  - 使用发送的数据完全覆盖服务器上的目标数据
- patch
  - 对目标数据做部分修改
- delete
  - 删除目标数据
- head
  - 和get类似，但是没有响应体

### GET与POST区别

get的请求参数直接拼接在url后面，get请求可以缓存。

post的请求参数通过请求体发送。post请求无法被缓存。

### 常用 header 和 status code

#### header
- Accept: 可接受的响应类型
- Authorization: 用于用户身份认证
- Cookie/Set-Cookie: 
- Content-Length: 请求体的长度
- Host: 服务器域名
- User-Agent: 浏览器身份标识
- Cache-Control: 此次请求及响应的浏览器的缓存机制
- If-Match: 如果满足ETag的条件，对于`get`和`head`返回缓存的结果，对于`put`和其他不安全的方法上传资源。如果条件匹配，则返回`412`
- If-Modified-Since: 如果请求的资源在发送的时间之后修改过，返回200；如果请求的资源没有别修改过，则返回304（没有响应体）。仅可被`get` & `head`使用。
- If-None-Match: ？？？
- ETag: 供缓存使用

#### status code

100: http协议内部使用。

200: 请求成功

300: 重定向相关

304 not modified: 请求的资源没被修改过。重定向请求并返回缓存的数据。

400 bad request: 请求体存在格式错误

401 unauthorized: 需要验证身份

403 forbidden: 服务器拒绝执行

404 not found: 请求的资源不存在

500 internal server error: 服务器异常

502 bad gateway: 网关出错

503 service unavailable: 服务无法处理请求

## tcp

### tcp三次握手与四次挥手

#### tcp三次握手
tcp三次握手的主要目的是，确认客户端和服务端都明确自己和对方接受和发送数据都是正常的

第一次握手：客户端第一次发包，服务器接受后。此时服务器得知客户端发送数据和服务器接受数据的能力正常

第二次握手：服务器发包，客户端接受后。此时客户端得知服务器发送数据和客户端接受数据的功能正常。并且此数据为第一次握手的响应，客户端得知自己收发数据的能力正常、服务器收发数据的能力正常

第三次握手：客户端发包，服务端接受后。此时服务端的自己在第二次握手时的数据被正常接受。服务端得知自己发送数据和客户端接受数据的能力正常。此时服务端和客户端都明确得知自己和对方收发数据的能力正常。之后便可以开始正式发送数据。

#### tcp四次挥手

tcp是双向传输的协议，连接双方能够同时发送和接受数据。当有一方需要关闭连接时，会发送信号告诉对方，对方接受之后会回复一个信号，之后该方向的连接便会关闭。而另一个方向的数据仍可继续传递。


### 同源策略

源的含义：协议、域名、端口

### session & cookies


## tcp & udp

tcp

1. 属于可靠的数据传输服务，保证数据的交付、数据有序和无误。
2. tcp是面向连接的。tcp在发送数据之前发送方和接受方会进行3次握手，保证连接的可靠性。

udp

1. 不可靠，不对数据完整、有序进行保证
2. 无连接的。直接发送数据，不需要握手。

由于udp发送数据不需要握手，所以udp速度快于tcp。但tcp相较于udp更可靠。

基于udp的应用层协议：dns、rip
基于tcp的应用层协议：http、smtp、telnet、ftp


## 网络分层模型

### osi7层模型

物理层 -> 数据链路层 -> 网络层 —> 传输层 -> 会话层 -> 表现层 -> 应用层

### 五层模型

物理层 -> 数据链路层 -> 网络层 —> 传输层 -> 应用层

ip协议作用在网络层

tcp/udp作用在传输层

http/ftp/dns等协议作用在应用层
