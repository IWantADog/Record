# python中的可迭代对象、迭代器、生成器

### 可迭代对象

如果对象实现了能返回迭代器的__iter__方法；实现了__getitem__方法，而且其参数是从零开始的索引。那该对象就称为可迭代对象。

### 迭代器

迭代器是这样的对象，实现了无参数的__next__方法，返回序列中的下一个元素；如果没有元素了，抛出StopIteration异常，还实现了__iter__方法（一般返回self），用于返回自身。

### 生成器

如果python函数的定义体中存在yield关键字，那该函数就是生成器函数，调用该函数时，就会返回生成器对象。

### 相关的一些东西

- iter():

    1. 检查对象是否实现了__iter__，如果实现了就调用它，返回一个迭代器
    2. 如果对象未实现__iter__，但实现__getitem__方法，python会创建一个迭代器，尝试按顺序（从索引0开始）获取元素。
    3. 如果都失败，python抛出TypeError异常，通常提示“C object is not iterable”

- next(): 调用迭代器上的__next__方法。

### 一些推论

- 可迭代对象与迭代器的关系：python从可迭代对象中返回迭代器。

- 所有的生成器都是迭代器，因为生成器完全实现了迭代器接口。

- 可迭代对象一定不能是自身的迭代器。本质是可迭代对象不能实现__next__方法。（原因不是很明白，书上说这种想法很糟糕）

- 迭代器都是可迭代对象。


### 参考

流畅的python

[python官方文档](https://docs.python.org/3.9/library/stdtypes.html#iterator-types)

