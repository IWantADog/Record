# Chapter 8 Common Collections

## Storing Lists of Values with Vectors

关于`vectors`

### 特性

1. 只能存储相同的数据类型。
2. 数据在内存中是相邻存在的。

### how to use

#### create

```rs
let v: Vec<i32> = Vec::new();

let v = vec![1, 2, 3];

```

#### update

```rs
let mut v = Vec::new();

v.push(5);
v.push(6);
v.push(7);
v.push(8);
```

#### read

支持通过游标和`get`获取。通过游标获取时，如果游标出界会报错。通过`get`获取，如果游标出界，返回`None`。

__不能同时拥有`mutable`和`immutable` reference。__

```rust
let v = vec![1, 2, 3, 4, 5];

let does_not_exist = &v[2];
let does_not_exist = v.get(2);
```

#### Iterating over the Values in a Vector

使用`for`遍历

```rust
// 遍历
let v = vec![100, 32, 57];
for i in &v {
    println!("{}", i);
}

// 遍历并修改
let mut v = vec![100, 32, 57];
for i in &mut v {
    *i += 50;
}
```

`*`: `dereference operator`。（感觉就是c）

#### Using an Enum to Store Multiple Types

`enum`中的单项被视为相同的类型。可以存放在vector中。

```rust
enum SpreadsheetCell {
    Int(i32),
    Float(f64),
    Text(String),
}

let row = vec![
    SpreadsheetCell::Int(3),
    SpreadsheetCell::Text(String::from("blue")),
    SpreadsheetCell::Float(10.12),
];
```

https://doc.rust-lang.org/std/vec/struct.Vec.html


## Storing UTF-8 Encoded Text with Strings

### What Is a String?

注意区分`str`和`String`。

`str`: 是rust内部使用的唯一字符串类型

`String`: 是rust的标准库，提供了可变的，utf-8编码的字符串类型。

https://doc.rust-lang.org/book/ch08-02-strings.html#creating-a-new-string













