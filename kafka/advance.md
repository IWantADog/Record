# 使用细节

## 再均衡（re-assignment）

再均衡会导致当前分组消费者的状态的丢失。也就是说发生再均衡时，消费者没有及时的提交偏移量，会导致再均衡之后，新的消费者拿到已经被消费的数据，导致数据重复被消费。

为了处理这个问题，客户端包一般会提供如下两个api
- on_revoked: 
  
  该方法会在再均衡还是之前和消费者停止读取消息之后被调用。在这里提交偏移量，新的消费者就能知道从哪里继续读取数据。
- on_assigned:

  该方法会在再均衡完成之后和新的消费者开始读取消息之前被调用。


